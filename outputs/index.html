<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>place.army</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="demo">
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <h1>place.army script beta</h1>
  <p>just drag this damn link to your bookmark bar and then click when you're on the canvas
    simply on the bookmark - no witchcraft uwu</p>

  <a href="javascript%3A%20(async()%3D%3E%7Bif(!window.location.href.startsWith(%22https%3A%2F%2Fwww.reddit.com%2Fr%2Fplace%2F%22)%26%26!window.location.href.startsWith(%22https%3A%2F%2Fnew.reddit.com%2Fr%2Fplace%2F%22))%7Breturn%7Dif(document.head.querySelector(%27meta%5Bname%3D%22zinnsoldat%22%5D%27))%7Bconsole.warn(%22Script%20already%20loaded!%22)%3Breturn%7Dconst%20marker%3Ddocument.createElement(%22meta%22)%3Bmarker.setAttribute(%22name%22%2C%22zinnsoldat%22)%3Bdocument.head.appendChild(marker)%3Bconst%20zs_style%3Ddocument.createElement(%22style%22)%3Bzs_style.innerHTML%3D%60%0A%20%20%20%20%20%20%20%20.zs-hidden%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.zs-pixeled%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%203px%20solid%20%23000000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%208px%208px%200px%20rgba(0%2C%200%2C%200%2C%200.75)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20-apple-system%2CBlinkMacSystemFont%2C%27Segoe%20UI%27%2CRoboto%2C%27Helvetica%20Neue%27%2CArial%2C%27Apple%20Color%20Emoji%27%2C%27Segoe%20UI%20Emoji%27%2C%27Segoe%20UI%20Symbol%27%2Csans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.zs-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20142px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2046px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%23fff%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.zs-startbutton%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(-90deg%2C%20%23C03400%20var(--zs_timeout)%2C%20%23FF4500%20var(--zs_timeout))%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.zs-startbutton%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(-90deg%2C%20%23802300%20var(--zs_timeout)%2C%20%23E03D00%20var(--zs_timeout))%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.zs-stopbutton%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(-90deg%2C%20%23007B4E%20var(--zs_timeout)%2C%20%2300A368%20var(--zs_timeout))%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20.zs-stopbutton%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(-90deg%2C%20%23005234%20var(--zs_timeout)%2C%20%23008F5B%20var(--zs_timeout))%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%60%3Bdocument.head.appendChild(zs_style)%3Blet%20zs_running%3Dtrue%3Blet%20zs_initialized%3Blet%20placeTimeout%3Bconst%20zs_version%3D%220.4%22%3Bconst%20zs_startButton%3Ddocument.createElement(%22button%22)%3Bzs_startButton.innerText%3D%60Zinnsoldat%20v%24%7Bzs_version%7D%60%3Bzs_startButton.classList.add(%22zs-pixeled%22%2C%22zs-button%22%2C%22zs-stopbutton%22)%3Bzs_startButton.style.setProperty(%22--zs_timeout%22%2C%22100%25%22)%3Bdocument.body.appendChild(zs_startButton)%3Bawait%20new%20Promise((resolve%2Creject)%3D%3E%7Bvar%20toastifyStyle%3Ddocument.createElement(%22link%22)%3BtoastifyStyle.type%3D%22text%2Fcss%22%3BtoastifyStyle.rel%3D%22stylesheet%22%3BtoastifyStyle.media%3D%22screen%22%3BtoastifyStyle.href%3D%22https%3A%2F%2Fcdn.jsdelivr.net%2Fnpm%2Ftoastify-js%2Fsrc%2Ftoastify.min.css%22%3Bdocument.head.appendChild(toastifyStyle)%3Bvar%20toastifyScript%3Ddocument.createElement(%22script%22)%3BtoastifyScript.setAttribute(%22src%22%2C%22https%3A%2F%2Fcdn.jsdelivr.net%2Fnpm%2Ftoastify-js%22)%3BtoastifyScript.setAttribute(%22async%22%2Cfalse)%3Bdocument.body.appendChild(toastifyScript)%3BtoastifyScript.addEventListener(%22load%22%2Cev%3D%3E%7Bresolve(%7Bstatus%3Atrue%7D)%7D)%3BtoastifyScript.addEventListener(%22error%22%2Cev%3D%3E%7Breject(%7Bstatus%3Afalse%2Cmessage%3A%60Failed%20to%20load%20the%20toastify%60%7D)%7D)%7D)%3Bconst%20zs_info%3Dmsg%3D%3E%7BToastify(%7Btext%3Amsg%2Cduration%3A5e3%2Cgravity%3A%22bottom%22%2Cposition%3A%22right%22%2CstopOnFocus%3Atrue%2CclassName%3A%22zs-pixeled%22%2Cstyle%3A%7Bbackground%3A%22%23383838%22%2Ccolor%3A%22%23fff%22%2C%22box-shadow%22%3A%228px%208px%200px%20rgba(0%2C%200%2C%200%2C%200.75)%22%7D%7D).showToast()%7D%3Bconst%20zs_warn%3Dmsg%3D%3E%7BToastify(%7Btext%3Amsg%2Cduration%3A5e3%2Cgravity%3A%22bottom%22%2Cposition%3A%22right%22%2CstopOnFocus%3Atrue%2CclassName%3A%22zs-pixeled%22%2Cstyle%3A%7Bbackground%3A%22%23FFA800%22%2Ccolor%3A%22%23000%22%2C%22box-shadow%22%3A%228px%208px%200px%20rgba(0%2C%200%2C%200%2C%200.75)%22%7D%7D).showToast()%7D%3Bconst%20zs_error%3Dmsg%3D%3E%7BToastify(%7Btext%3Amsg%2Cduration%3A5e3%2Cgravity%3A%22bottom%22%2Cposition%3A%22right%22%2CstopOnFocus%3Atrue%2CclassName%3A%22zs-pixeled%22%2Cstyle%3A%7Bbackground%3A%22%23d93a00%22%2Ccolor%3A%22%23fff%22%2C%22box-shadow%22%3A%228px%208px%200px%20rgba(0%2C%200%2C%200%2C%200.75)%22%7D%7D).showToast()%7D%3Bconst%20zs_success%3Dmsg%3D%3E%7BToastify(%7Btext%3Amsg%2Cduration%3A5e3%2Cgravity%3A%22bottom%22%2Cposition%3A%22right%22%2CstopOnFocus%3Atrue%2CclassName%3A%22zs-pixeled%22%2Cstyle%3A%7Bbackground%3A%22%2300A368%22%2Ccolor%3A%22%23fff%22%2C%22box-shadow%22%3A%228px%208px%200px%20rgba(0%2C%200%2C%200%2C%200.75)%22%7D%7D).showToast()%7D%3Bconst%20zs_updateNotification%3D()%3D%3E%7BToastify(%7Btext%3A%22Neue%20Version%20auf%20https%3A%2F%2Fplace.army%2F%20verf%C3%BCgbar!%22%2Cdestination%3A%22https%3A%2F%2Fplace.army%2F%22%2Cduration%3A-1%2Cgravity%3A%22bottom%22%2Cposition%3A%22right%22%2CstopOnFocus%3Atrue%2CclassName%3A%22zs-pixeled%22%2Cstyle%3A%7Bbackground%3A%22%233690EA%22%2Ccolor%3A%22%23fff%22%2C%22box-shadow%22%3A%228px%208px%200px%20rgba(0%2C%200%2C%200%2C%200.75)%22%7D%7D).showToast()%7D%3Bzs_info(%22Einer%20von%20uns!%22)%3Bconst%20_setTimeout%3DsetTimeout%3Bconst%20_clearTimeout%3DclearTimeout%3Bconst%20zs_allTimeouts%3D%7B%7D%3BsetTimeout%3D(callback%2Cdelay)%3D%3E%7Blet%20id%3D_setTimeout(callback%2Cdelay)%3Bzs_allTimeouts%5Bid%5D%3DDate.now()%2Bdelay%3Breturn%20id%7D%3BclearTimeout%3Did%3D%3E%7B_clearTimeout(id)%3Bzs_allTimeouts%5Bid%5D%3Dundefined%7D%3Bconst%20getTimeout%3Did%3D%3E%7Bif(zs_allTimeouts%5Bid%5D)%7Breturn%20Math.max(zs_allTimeouts%5Bid%5D-Date.now()%2C0)%7Dreturn%20NaN%7D%3BsetInterval(()%3D%3E%7Blet%20theTimeout%3DgetTimeout(placeTimeout)%3Bif(Number.isNaN(theTimeout))%7BtheTimeout%3D0%7Dconst%20maxTimeout%3D3e5%3Bconst%20percentage%3D100-Math.min(Math.max(Math.round(theTimeout%2FmaxTimeout*100)%2C0)%2C100)%3Bzs_startButton.style.setProperty(%22--zs_timeout%22%2C%60%24%7Bpercentage%7D%25%60)%7D%2C1)%3Bconst%20zs_getAccessToken%3Dasync()%3D%3E%7Bconst%20usingOldReddit%3Dwindow.location.href.includes(%22new.reddit.com%22)%3Bconst%20url%3DusingOldReddit%3F%22https%3A%2F%2Fnew.reddit.com%2Fr%2Fplace%2F%22%3A%22https%3A%2F%2Fwww.reddit.com%2Fr%2Fplace%2F%22%3Bconst%20response%3Dawait%20fetch(url)%3Bconst%20responseText%3Dawait%20response.text()%3Breturn%20responseText.match(%2F%22accessToken%22%3A%22(%5C%5C%22%7C%5B%5E%22%5D*)%22%2F)%5B1%5D%7D%3Bzs_info(%22Erbitte%20Reddit%20um%20Zugriff...%22)%3Blet%20zs_accessToken%3Dawait%20zs_getAccessToken()%3Bzs_success(%22Zugriff%20gew%C3%A4hrt!%22)%3Bconst%20zs_getCanvasId%3D(x%2Cy)%3D%3E%7Bif(y%3C0%26%26x%3C-500)%7Breturn%200%7Delse%20if(y%3C0%26%26x%3C500%26%26x%3E%3D-500)%7Breturn%201%7Delse%20if(y%3C0%26%26x%3E%3D500)%7Breturn%202%7Delse%20if(y%3E%3D0%26%26x%3C-500)%7Breturn%203%7Delse%20if(y%3E%3D0%26%26x%3C500%26%26x%3E%3D-500)%7Breturn%204%7Delse%20if(y%3E%3D0%26%26x%3E%3D500)%7Breturn%205%7Dconsole.error(%22Unknown%20canvas!%22)%3Breturn%200%7D%3Bconst%20zs_getCanvasX%3D(x%2Cy)%3D%3E%7Breturn%20Math.abs((x%2B500)%251e3)%7D%3Bconst%20zs_getCanvasY%3D(x%2Cy)%3D%3E%7Breturn%20zs_getCanvasId(x%2Cy)%3C3%3Fy%2B1e3%3Ay%7D%3Bconst%20zs_placePixel%3Dasync(x%2Cy%2Ccolor)%3D%3E%7Bconsole.log(%22Trying%20to%20place%20pixel%20at%20%25s%2C%20%25s%20in%20%25s%22%2Cx%2Cy%2Ccolor)%3Bconst%20response%3Dawait%20fetch(%22https%3A%2F%2Fgql-realtime-2.reddit.com%2Fquery%22%2C%7Bmethod%3A%22POST%22%2Cbody%3AJSON.stringify(%7BoperationName%3A%22setPixel%22%2Cvariables%3A%7Binput%3A%7BactionName%3A%22r%2Freplace%3Aset_pixel%22%2CPixelMessageData%3A%7Bcoordinate%3A%7Bx%3Azs_getCanvasX(x%2Cy)%2Cy%3Azs_getCanvasY(x%2Cy)%7D%2CcolorIndex%3Acolor%2CcanvasIndex%3Azs_getCanvasId(x%2Cy)%7D%7D%7D%2Cquery%3A%60mutation%20setPixel(%24input%3A%20ActInput!)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20act(input%3A%20%24input)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...%20on%20BasicMessage%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...%20on%20GetUserCooldownResponseMessageData%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20nextAvailablePixelTimestamp%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20__typename%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20...%20on%20SetPixelResponseMessageData%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timestamp%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20__typename%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20__typename%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20__typename%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20__typename%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20__typename%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%7D)%2Cheaders%3A%7Borigin%3A%22https%3A%2F%2Fgarlic-bread.reddit.com%22%2Creferer%3A%22https%3A%2F%2Fgarlic-bread.reddit.com%2F%22%2C%22apollographql-client-name%22%3A%22garlic-bread%22%2CAuthorization%3A%60Bearer%20%24%7Bzs_accessToken%7D%60%2C%22Content-Type%22%3A%22application%2Fjson%22%7D%7D)%3Bconst%20data%3Dawait%20response.json()%3Bif(data.errors!%3D%3Dundefined)%7Bif(data.errors%5B0%5D.message%3D%3D%3D%22Ratelimited%22)%7Bconsole.log(%22Could%20not%20place%20pixel%20at%20%25s%2C%20%25s%20in%20%25s%20-%20Ratelimit%22%2Cx%2Cy%2Ccolor)%3Bzs_warn(%22Du%20hast%20noch%20Abklingzeit!%22)%3Breturn%20data.errors%5B0%5D.extensions%3F.nextAvailablePixelTs%7Dconsole.log(%22Could%20not%20place%20pixel%20at%20%25s%2C%20%25s%20in%20%25s%20-%20Response%20error%22%2Cx%2Cy%2Ccolor)%3Bconsole.error(data.errors)%3Bzs_error(%22Fehler%20beim%20Platzieren%20des%20Pixels%22)%3Breturn%20null%7Dconsole.log(%22Did%20place%20pixel%20at%20%25s%2C%20%25s%20in%20%25s%22%2Cx%2Cy%2Ccolor)%3Bzs_success(%60Pixel%20(%24%7Bx%7D%2C%20%24%7By%7D)%20platziert!%60)%3Breturn%20data%3F.data%3F.act%3F.data%3F.%5B0%5D%3F.data%3F.nextAvailablePixelTimestamp%7D%3Blet%20c2%3Blet%20tokens%3D%5B%22Wololo%22%5D%3Bconst%20zs_requestJob%3D()%3D%3E%7Bif(c2.readyState!%3D%3Dc2.OPEN)%7Bzs_error(%27Verbindung%20zum%20%22Carpetbomber%22%20abgebrochen.%20Verbinde...%27)%3Bzs_initCarpetbomberConnection()%3Breturn%7Dif(!zs_running)%7Breturn%7Dc2.send(JSON.stringify(%7Btype%3A%22RequestJobs%22%2Ctokens%3Atokens%7D))%7D%3Bconst%20zs_processJobResponse%3Djobs%3D%3E%7Bif(!jobs%7C%7Cjobs%3D%3D%3D%7B%7D)%7Bzs_warn(%22Kein%20verf%C3%BCgbarer%20Auftrag.%20Versuche%20in%2060s%20erneut%22)%3BclearTimeout(placeTimeout)%3BplaceTimeout%3DsetTimeout(()%3D%3E%7Bzs_requestJob()%7D%2C6e4)%3Breturn%7Dlet%5Btoken%2C%5Bjob%2Ccode%5D%5D%3DObject.entries(jobs)%5B0%5D%3Bif(!job)%7Bconst%20ratelimit%3Dcode%3F.Ratelimited%3F.until%3Bif(ratelimit)%7BclearTimeout(placeTimeout)%3BplaceTimeout%3DsetTimeout(()%3D%3E%7Bzs_requestJob()%7D%2CMath.max(5e3%2CDate.parse(ratelimit)%2B2e3-Date.now()))%3Breturn%7Dzs_warn(%22Kein%20verf%C3%BCgbarer%20Auftrag.%20Versuche%20in%2020s%20erneut%22)%3BclearTimeout(placeTimeout)%3BplaceTimeout%3DsetTimeout(()%3D%3E%7Bzs_requestJob()%7D%2C2e4)%3Breturn%7Dzs_placePixel(job.x%2Cjob.y%2Cjob.color-1).then(nextTry%3D%3E%7BclearTimeout(placeTimeout)%3BplaceTimeout%3DsetTimeout(()%3D%3E%7Bzs_requestJob()%7D%2CMath.max(5e3%2C(nextTry%7C%7C5*60*1e3)%2B2e3-Date.now()))%7D)%7D%3Bconst%20zs_initCarpetbomberConnection%3D()%3D%3E%7Bc2%3Dnew%20WebSocket(%22wss%3A%2F%2Fgreat-real-worm.glitch.me%2F%22)%3Bc2.onopen%3D()%3D%3E%7Bzs_initialized%3Dtrue%3Bzs_info(%27Verbinde%20mit%20%22Carpetbomber%22...%27)%3Bc2.send(JSON.stringify(%7Btype%3A%22Handshake%22%2Cversion%3Azs_version%7D))%3Bzs_requestJob()%3BsetInterval(()%3D%3Ec2.send(JSON.stringify(%7Btype%3A%22Wakeup%22%7D))%2C40*1e3)%7D%3Bc2.onerror%3Derror%3D%3E%7Bzs_error(%27Verbindung%20zum%20%22Carpetbomber%22%20fehlgeschlagen!%20Versuche%20in%205s%20erneut%27)%3Bconsole.error(error)%3BsetTimeout(zs_initCarpetbomberConnection%2C5e3)%7D%3Bc2.onmessage%3Devent%3D%3E%7Bdata%3DJSON.parse(event.data)%3Bif(data.type%3D%3D%3D%22UpdateVersion%22)%7Bzs_success(%22Verbindung%20aufgebaut!%22)%3Bif(data.version%3Ezs_version)%7Bzs_updateNotification()%7D%7Delse%20if(data.type%3D%3D%22Jobs%22)%7Bzs_processJobResponse(data.jobs)%7D%7D%7D%3Bzs_initCarpetbomberConnection()%3Bconst%20zs_startBot%3D()%3D%3E%7Bzs_running%3Dtrue%3Bzs_startButton.classList.remove(%22zs-startbutton%22)%3Bzs_startButton.classList.add(%22zs-stopbutton%22)%3Bif(zs_initialized)%7Bzs_requestJob()%7D%7D%3Bconst%20zs_stopBot%3D()%3D%3E%7Bzs_running%3Dfalse%3BclearTimeout(placeTimeout)%3Bzs_startButton.classList.remove(%22zs-stopbutton%22)%3Bzs_startButton.classList.add(%22zs-startbutton%22)%7D%3Bzs_startButton.onclick%3D()%3D%3E%7Bif(zs_running)%7Bzs_stopBot()%7Delse%7Bzs_startBot()%7D%7D%7D)()%3B">rplace ind v0.1</a>


</body>

</html>
